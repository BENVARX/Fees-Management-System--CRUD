<!DOCTYPE html>
<html>
<head>
    <title>Search Student Fees</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Roboto:wght@500&display=swap" rel="stylesheet">
            <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<style>

body{
   font-family:  'Roboto';
}
table{
position: absolute;
left:2%;
top:50%;
border-color:black;       
height: 15%;
width: 95%;
border-collapse: collapse;
}.submit{
position: absolute;
right: 270px;
top: 80px;


}h1{
position: absolute;
left: 525px; 
top: 0px;
font-weight: 20px;

}.label1{
position: absolute;
font-family: poppins;
font-size: 20px;
left: 380px;
top: 80px;

}.label2{
position: absolute;
font-family: poppins;
font-size: 20px;
left: 750px;
top: 80px;

}h2{
position: absolute;
left: 560px; 
top: 190px;
font-family: poppins;
font-size: 30px;
color: grey;
}.total{
position:absolute;
left: 82%;
top:42.5%;
font-family: poppins;
font-size: 20px;
color: green;
}.results{
position:absolute;
left: 39%;
top:37%;
font-family: poppins;
font-size: 15px;
color: red;
}th{
color: white;
}.note{
        position: absolute;
        left: 520px;
        top: 250px;
        font-family: poppins;
        font-size: 15px;
        color: red;
       }
</style>
    
</head>
<body>

<h1>Search Batch Fees</h1>
<form method="post">
<div class="label1">
<select style="border-radius:15px;border:2px solid black;width: 350px;height: 35px;padding:7px;" id="department" name="department" placeholder="Select Department">
    <!-- Your department options here -->
    <option value="">Select Department</option>
            <option value="cse">CSE</option>
            <option value="ece">ECE</option>
            <option value="mech">MECH</option>
            <option value="civil">CIVIL</option>
            <option value="eee">EEE</option>
            <option value="ai&ds">AI&DS</option>
</select><br>
</div>
<div class="label2">

<select style="border-radius:15px;border:2px solid black;width: 350px;height: 35px;padding:7px;" id="batch" name="batch"  placeholder="Select Batch">
<option value="">Select Batch</option>
            <option value="2015-2019(CSE)">2015-2019(CSE)</option>
            <option value="2015-2019(ECE)">2015-2019(ECE)</option>
            <option value="2015-2019(MECH)">2015-2019(MECH)</option>
            <option value="2015-2019(CIVIL)">2015-2019(CIVIL)</option>
            <option value="2015-2019(AI&DS)">2015-2019(AI&DS)</option>
            <option value="2015-2019(EEE)">2015-2019(EEE)</option>
            <option value="2016-2020(CSE)">2016-2020(CSE)</option>
            <option value="2016-2020(ECE)">2016-2020(ECE)</option>
            <option value="2016-2020(MECH)">2016-2020(MECH)</option>
            <option value="2016-2020(CIVIL)">2016-2020(CIVIL)</option>
            <option value="2016-2020(AI&DS)">2016-2020(AI&DS)</option>
            <option value="2016-2020(EEE)">2016-2020(EEE)</option>
            <option value="2017-2021(CSE)">2017-2021(CSE)</option>
            <option value="2017-2021(ECE)">2017-2021(ECE)</option>
            <option value="2017-2021(MECH)">2017-2021(MECH)</option>
            <option value="2017-2021(CIVIL)">2017-2021(CIVIL)</option>
            <option value="2017-2021(AI&DS)">2017-2021(AI&DS)</option>
            <option value="2017-2021(EEE)">2017-2021(EEE)</option>
            <option value="2018-2022(CSE)">2018-2022(CSE)</option>
            <option value="2018-2022(ECE)">2018-2022(ECE)</option>
            <option value="2018-2022(MECH)">2018-2022(MECH)</option>
            <option value="2018-2022(CIVIL)">2018-2022(CIVIL)</option>
            <option value="2018-2022(AI&DS)">2018-2022(AI&DS)</option>
            <option value="2018-2022(EEE)">2018-2022(EEE)</option>
            <option value="2019-2023(CSE)">2019-2023(CSE)</option>
            <option value="2019-2023(ECE)">2019-2023(ECE)</option>
            <option value="2019-2023(MECH)">2019-2023(MECH)</option>
            <option value="2019-2023(CIVIL)">2019-2023(CIVIL)</option>
            <option value="2019-2023(AI&DS)">2019-2023(AI&DS)</option>
            <option value="2019-2023(EEE)">2019-2023(EEE)</option>
            <option value="2020-2024(CSE)">2020-2024(CSE)</option>
            <option value="2020-2024(ECE)">2020-2024(ECE)</option>
            <option value="2020-2024(MECH)">2020-2024(MECH)</option>
            <option value="2020-2024(CIVIL)">2020-2024(CIVIL)</option>
            <option value="2020-2024(AI&DS)">2020-2024(AI&DS)</option>
            <option value="2020-2024(EEE)">2020-2024(EEE)</option>
            <option value="2021-2025(CSE)">2021-2025(CSE)</option>
            <option value="2021-2025(ECE)">2021-2025(ECE)</option>
            <option value="2021-2025(MECH)">2021-2025(MECH)</option>
            <option value="2021-2025(CIVIL)">2021-2025(CIVIL)</option>
            <option value="2021-2025(AI&DS)">2021-2025(AI&DS)</option>
            <option value="2021-2025(EEE)">2021-2025(EEE)</option>
            <option value="2022-2026(CSE)">2022-2026(CSE)</option>
            <option value="2022-2026(ECE)">2022-2026(ECE)</option>
            <option value="2022-2026(MECH)">2022-2026(MECH)</option>
            <option value="2022-2026(CIVIL)">2022-2026(CIVIL)</option>
            <option value="2022-2026(AI&DS)">2022-2026(AI&DS)</option>
            <option value="2022-2026(EEE)">2022-2026(EEE)</option>
            <option value="2023-2027(CSE)">2023-2027(CSE)</option>
            <option value="2023-2027(ECE)">2023-2027(ECE)</option>
            <option value="2023-2027(MECH)">2023-2027(MECH)</option>
            <option value="2023-2027(CIVIL)">2023-2027(CIVIL)</option>
            <option value="2023-2027(AI&DS)">2023-2027(AI&DS)</option>
            <option value="2023-2027(EEE)">2023-2027(EEE)</option>
            <option value="2024-2028(CSE)">2024-2028(CSE)</option>
            <option value="2024-2028(ECE)">2024-2028(ECE)</option>
            <option value="2024-2028(MECH)">2024-2028(MECH)</option>
            <option value="2024-2028(CIVIL)">2024-2028(CIVIL)</option>
            <option value="2024-2028(AI&DS)">2024-2028(AI&DS)</option>
            <option value="2024-2028(EEE)">2024-2028(EEE)</option>
            <option value="2025-2029(CSE)">2025-2029(CSE)</option>
            <option value="2025-2029(ECE)">2025-2029(ECE)</option>
            <option value="2025-2029(MECH)">2025-2029(MECH)</option>
            <option value="2025-2029(CIVIL)">2025-2029(CIVIL)</option>
            <option value="2025-2029(AI&DS)">2025-2029(AI&DS)</option>
            <option value="2025-2029(EEE)">2025-2029(EEE)</option>
            <option value="2026-2030(CSE)">2026-2030(CSE)</option>
            <option value="2026-2030(ECE)">2026-2030(ECE)</option>
            <option value="2026-2030(MECH)">2026-2030(MECH)</option>
            <option value="2026-2030(CIVIL)">2026-2030(CIVIL)</option>
            <option value="2026-2030(AI&DS)">2026-2030(AI&DS)</option>
            <option value="2026-2030(EEE)">2026-2030(EEE)</option>
            <option value="2027-2031(CSE)">2027-2031(CSE)</option>
            <option value="2027-2031(ECE)">2027-2031(ECE)</option>
            <option value="2027-2031(MECH)">2027-2031(MECH)</option>
            <option value="2027-2031(CIVIL)">2027-2031(CIVIL)</option>
            <option value="2027-2031(AI&DS)">2027-2031(AI&DS)</option>
            <option value="2027-2031(EEE)">2027-2031(EEE)</option>
            <option value="2028-2032(CSE)">2028-2032(CSE)</option>
            <option value="2028-2032(ECE)">2028-2032(ECE)</option>
            <option value="2028-2032(MECH)">2028-2032(MECH)</option>
            <option value="2028-2032(CIVIL)">2028-2032(CIVIL)</option>
            <option value="2028-2032(AI&DS)">2028-2032(AI&DS)</option>
            <option value="2028-2032(EEE)">2028-2032(EEE)</option>
            <option value="2029-2033(CSE)">2029-2033(CSE)</option>
            <option value="2029-2033(ECE)">2029-2033(ECE)</option>
            <option value="2029-2033(MECH)">2029-2033(MECH)</option>
            <option value="2029-2033(CIVIL)">2029-2033(CIVIL)</option>
            <option value="2029-2033(AI&DS)">2029-2033(AI&DS)</option>
            <option value="2029-2033(EEE)">2029-2033(EEE)</option>
            <option value="2030-2034(CSE)">2030-2034(CSE)</option>
            <option value="2030-2034(ECE)">2030-2034(ECE)</option>
            <option value="2030-2034(MECH)">2030-2034(MECH)</option>
            <option value="2030-2034(CIVIL)">2030-2034(CIVIL)</option>
            <option value="2030-2034(AI&DS)">2030-2034(AI&DS)</option>
            <option value="2030-2034(EEE)">2030-2034(EEE)</option>
            <option value="2031-2035(CSE)">2031-2035(CSE)</option>
            <option value="2031-2035(ECE)">2031-2035(ECE)</option>
            <option value="2031-2035(MECH)">2031-2035(MECH)</option>
            <option value="2031-2035(CIVIL)">2031-2035(CIVIL)</option>
            <option value="2031-2035(AI&DS)">2031-2035(AI&DS)</option>
            <option value="2031-2035(EEE)">2031-2035(EEE)</option>
            <option value="2032-2036(CSE)">2032-2036(CSE)</option>
            <option value="2032-2036(ECE)">2032-2036(ECE)</option>
            <option value="2032-2036(MECH)">2032-2036(MECH)</option>
            <option value="2032-2036(CIVIL)">2032-2036(CIVIL)</option>
            <option value="2032-2036(AI&DS)">2032-2036(AI&DS)</option>
            <option value="2032-2036(EEE)">2032-2036(EEE)</option>
            <option value="2033-2037(CSE)">2033-2037(CSE)</option>
            <option value="2033-2037(ECE)">2033-2037(ECE)</option>
            <option value="2033-2037(MECH)">2033-2037(MECH)</option>
            <option value="2033-2037(CIVIL)">2033-2037(CIVIL)</option>
            <option value="2033-2037(AI&DS)">2033-2037(AI&DS)</option>
            <option value="2033-2037(EEE)">2033-2037(EEE)</option>
            <option value="2034-2038(CSE)">2034-2038(CSE)</option>
            <option value="2034-2038(ECE)">2034-2038(ECE)</option>
            <option value="2034-2038(MECH)">2034-2038(MECH)</option>
            <option value="2034-2038(CIVIL)">2034-2038(CIVIL)</option>
            <option value="2034-2038(AI&DS)">2034-2038(AI&DS)</option>
            <option value="2034-2038(EEE)">2034-2038(EEE)</option>
            <option value="2035-2039(CSE)">2035-2039(CSE)</option>
            <option value="2035-2039(ECE)">2035-2039(ECE)</option>
            <option value="2035-2039(MECH)">2035-2039(MECH)</option>
            <option value="2035-2039(CIVIL)">2035-2039(CIVIL)</option>
            <option value="2035-2039(AI&DS)">2035-2039(AI&DS)</option>
            <option value="2035-2039(EEE)">2035-2039(EEE)</option>
            <option value="2036-2040(CSE)">2036-2040(CSE)</option>
            <option value="2036-2040(ECE)">2036-2040(ECE)</option>
            <option value="2036-2040(MECH)">2036-2040(MECH)</option>
            <option value="2036-2040(CIVIL)">2036-2040(CIVIL)</option>
            <option value="2036-2040(AI&DS)">2036-2040(AI&DS)</option>
            <option value="2036-2040(EEE)">2036-2040(EEE)</option>
            <option value="2037-2041(CSE)">2037-2041(CSE)</option>
            <option value="2037-2041(ECE)">2037-2041(ECE)</option>
            <option value="2037-2041(MECH)">2037-2041(MECH)</option>
            <option value="2037-2041(CIVIL)">2037-2041(CIVIL)</option>
            <option value="2037-2041(AI&DS)">2037-2041(AI&DS)</option>
            <option value="2037-2041(EEE)">2037-2041(EEE)</option>
            <option value="2038-2042(CSE)">2038-2042(CSE)</option>
            <option value="2038-2042(ECE)">2038-2042(ECE)</option>
            <option value="2038-2042(MECH)">2038-2042(MECH)</option>
            <option value="2038-2042(CIVIL)">2038-2042(CIVIL)</option>
            <option value="2038-2042(AI&DS)">2038-2042(AI&DS)</option>
            <option value="2038-2042(EEE)">2038-2042(EEE)</option>
            <option value="2039-2043(CSE)">2039-2043(CSE)</option>              
            <option value="2039-2043(CSE)">2039-2043(ECE)</option>
            <option value="2039-2043(MECH)">2039-2043(MECH)</option>
            <option value="2039-2043(CIVIL)">2039-2043(CIVIL)</option>
            <option value="2039-2043(AI&DS)">2039-2043(AI&DS)</option>
            <option value="2039-2043(EEE)">2039-2043(EEE)</option>
            <option value="2040-2044(CSE)">2040-2044(CSE)</option>
            <option value="2040-2044(ECE)">2040-2044(ECE)</option>
            <option value="2040-2044(MECH)">2040-2044(MECH)</option>
            <option value="2040-2044(CIVIL)">2040-2044(CIVIL)</option>
            <option value="2040-2044(AI&DS)">2040-2044(AI&DS)</option>
            <option value="2040-2044(EEE)">2040-2044(EEE)</option>
            <option value="2041-2045(CSE)">2041-2045(CSE)</option>
            <option value="2041-2045(ECE)">2041-2045(ECE)</option>
            <option value="2041-2045(MECH)">2041-2045(MECH)</option>
            <option value="2041-2045(CIVIL)">2041-2045(CIVIL)</option>
            <option value="2041-2045(AI&DS)">2041-2045(AI&DS)</option>
            <option value="2041-2045(EEE)">2041-2045(EEE)</option>
            <option value="2042-2046(CSE)">2042-2046(CSE)</option>
            <option value="2042-2046(ECE)">2042-2046(ECE)</option>
            <option value="2042-2046(MECH)">2042-2046(MECH)</option>
            <option value="2042-2046(CIVIL)">2042-2046(CIVIL)</option>
            <option value="2042-2046(AI&DS)">2042-2046(AI&DS)</option>
            <option value="2042-2046(EEE)">2042-2046(EEE)</option>
            <option value="2043-2047(CSE)">2043-2047(CSE)</option>
            <option value="2043-2047(ECE)">2043-2047(ECE)</option>
            <option value="2043-2047(MECH)">2043-2047(MECH)</option>
            <option value="2043-2047(CIVIL)">2043-2047(CIVIL)</option>
            <option value="2043-2047(AI&DS)">2043-2047(AI&DS)</option>
            <option value="2043-2047(EEE)">2043-2047(EEE)</option>
            <option value="2044-2048(CSE)">2044-2048(CSE)</option>
            <option value="2044-2048(ECE)">2044-2048(ECE)</option>
            <option value="2044-2048(MECH)">2044-2048(MECH)</option>
            <option value="2044-2048(CIVIL)">2044-2048(CIVIL)</option>
            <option value="2044-2048(AI&DS)">2044-2048(AI&DS)</option>
            <option value="2044-2048(EEE)">2044-2048(EEE)</option>
            <option value="2045-2049(CSE)">2045-2049(CSE)</option>
            <option value="2045-2049(ECE)">2045-2049(ECE)</option>
            <option value="2045-2049(CMECH)">2045-2049(MECH)</option>
            <option value="2045-2049(CIVIL)">2045-2049(CIVIL)</option>
            <option value="2045-2049(AI&DS)">2045-2049(AI&DS)</option>
            <option value="2045-2049(EEE)">2045-2049(EEE)</option>
            <option value="2046-2050(CSE)">2046-2050(CSE)</option>
            <option value="2046-2050(ECE)">2046-2050(ECE)</option>
            <option value="2046-2050(MECH)">2046-2050(MECH)</option>
            <option value="2046-2050(CIVIL)">2046-2050(CIVIL)</option>
            <option value="2046-2050(AI&DS)">2046-2050(AI&DS)</option>
            <option value="2046-2050(EEE)">2046-2050(EEE)</option>
            <option value="2047-2051(CSE)">2047-2051(CSE)</option>
            <option value="2047-2051(ECE)">2047-2051(ECE)</option>
            <option value="2047-2051(MECH)">2047-2051(MECH)</option>
            <option value="2047-2051(CIVIL)">2047-2051(CIVIL)</option>
            <option value="2047-2051(AI&DS)">2047-2051(AI&DS)</option>
            <option value="2047-2051(EEE)">2047-2051(EEE)</option>
            <option value="2048-2052(CSE)">2048-2052(CSE)</option>
            <option value="2048-2052(ECE)">2048-2052(ECE)</option>
            <option value="2048-2052(MECH)">2048-2052(MECH)</option>
            <option value="2048-2052(CIVIL)">2048-2052(CIVIL)</option>
            <option value="2048-2052(AI&DS)">2048-2052(AI&DS)</option>
            <option value="2048-2052(EEE)">2048-2052(EEE)</option>
            <option value="2049-2053(CSE)">2049-2053(CSE)</option>
            <option value="2049-2053(ECE)">2049-2053(ECE)</option>
            <option value="2049-2053(MECH)">2049-2053(MECH)</option>
            <option value="2049-2053(CIVIL)">2049-2053(CIVIL)</option>
            <option value="2049-2053(AI&DS)">2049-2053(AI&DS)</option>
            <option value="2049-2053(EEE)">2049-2053(EEE)</option>
            <option value="2050-2054(CSE)">2050-2054(CSE)</option>
            <option value="2050-2054(ECE)">2050-2054(ECE)</option>
            <option value="2050-2054(MECH)">2050-2054(MECH)</option>
            <option value="2050-2054(CIVIL)">2050-2054(CIVIL)</option>
            <option value="2050-2054(AI&DS)">2050-2054(AI&DS)</option>
            <option value="2050-2054(EEE)">2050-2054(EEE)</option>
        
    <!-- Your batch options here -->
</select><br>
</div>
<div class="submit">
<input style="padding: 0px 0px 0px 0px;margin-left: 15px; background-color: #000000;border-radius: 15px;border:2px solid black; color:white;width: 80px;height: 38px;" type="submit" value="Search">
</div>

</form>

<?php
// Check if the form is submitted
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Check if department and batch are set and not empty
    if (isset($_POST["department"]) && !empty($_POST["department"]) &&
        isset($_POST["batch"]) && !empty($_POST["batch"])) {

        // Database connection parameters
        $servername = "localhost";
        $username = "root";
        $password = "";
        $dbname = "mydatabase";

        // Create connection
        $conn = new mysqli($servername, $username, $password, $dbname);

        // Check connection
        if ($conn->connect_error) {
            die("Connection failed: " . $conn->connect_error);
        }

        // Retrieve department and batch values from the form
        $department = $_POST["department"];
        $batch = $_POST["batch"];

        // Prepare SQL query
        $sql = "SELECT feesreduction.rollno, feesreduction.admission_fee, feesreduction.tuition_fee,feesreduction.book_fee,feesreduction.uniform_fee,feesreduction.hostel_fee,feesreduction.caution_deposit_hostel,feesreduction.transport_fee,feesreduction.examination_fee,feesreduction.library_fee,feesreduction.placement_training_fee,feesreduction.others_fee,feesreduction.total
                FROM feesreduction
                JOIN entries ON feesreduction.rollno = entries.rollno
                WHERE entries.department_name = ? AND entries.batch = ?";

        // Prepare and bind parameters
        $stmt = $conn->prepare($sql);
        $stmt->bind_param("ss", $department, $batch);

        // Execute the query
        $stmt->execute();

        // Bind result variables
        $stmt->bind_result($rollno, $admission_fee,$tuition_fee,$book_fee,$uniform_fee,$hostel_fee,$caution_deposit_hostel,$transport_fee,$examination_fee,$library_fee,$placement_training_fee,$others_fee, $total);


        // Display results in a table
        echo "<h2>Fee Details</h2>";
        echo "<table border='1'>";
        echo "<tr style='background-color:black;'><th>Rollno</th><th>Admissionfee</th><th>Tuitionfee</th><th>Bookfee</th><th>Uniformfee</th><th>Hostelfee</th><th>Cautiondeposithostel</th><th>Transportfee</th><th>Examinationfee</th><th>Libraryfee</th><th>Placementfee</th><th>Otherfee</th><th>Total Amount</th></tr>";
         $total_amount = 0;

        while ($stmt->fetch()) {
            $total_amount += $total;
            echo "<tr><td>$rollno</td><td>$admission_fee</td><td>$tuition_fee</td><td>$book_fee</td><td>$uniform_fee</td><td>$hostel_fee</td><td>$caution_deposit_hostel</td><td>$transport_fee</td><td>$examination_fee</td><td>$library_fee</td><td>$placement_training_fee</td><td>$others_fee</td><td>$total</td></tr>";
        }

        echo "</table>";
        echo "<p class='total'>Total Amount: $total_amount</p>";
        // Close statement and connection
        $stmt->close();
        $conn->close();
    } else {
        echo "<p class='note'>Please select a department and batch.</p>";
    }
}
?>


</body>
</html>
